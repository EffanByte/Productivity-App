package com.no.omglearning;
import com.interactivemesh.jfx.importer.obj.ObjModelImporter;
import javafx.application.Application;
import javafx.geometry.Point3D;
import javafx.scene.Group;
import javafx.scene.PerspectiveCamera;
import javafx.scene.Scene;
import javafx.scene.shape.MeshView;
import javafx.scene.transform.Rotate;
import javafx.scene.transform.Transform;
import javafx.stage.Stage;
import java.net.URL;

public class Model extends Application {
private Scene createScene(){
    PerspectiveCamera camera = new PerspectiveCamera(true);
    camera.setTranslateZ(-15);
    Group model = loadModel(getClass().getResource("Test2.obj"));
    Group root = new Group(model);
    Scene scene = new Scene (root, 800,800);
    camera.setTranslateX(1);
    camera.setTranslateZ(-20);
   Transform transform = new Rotate(60, new Point3D(0,1,0));
   model.getTransforms().add(transform);
   camera.setTranslateY(-4);
scene.setCamera(camera);

return scene;
}
  private Group loadModel(URL url){
Group modelRoot = new Group();
        ObjModelImporter obj = new ObjModelImporter();
        obj.read(url);
        for (MeshView view : obj.getImport()){
            modelRoot.getChildren().add(view);
        }
        return modelRoot;
    }

    public void start(Stage stage) throws Exception{

    stage.setScene(createScene());
        stage.show();

    }
}
